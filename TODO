Bugs TODO
==========

154: Mauvais fonctionnement de la touche Entrée
  Presser la touche Entrée dans un formulaire provoque non seulement
  l'enregistrement mais aussi l'impression de la page.  

lot3 TODO
=========

F6.
  Quand l'utilisateur envoie son formulaire, il doit recevoir un accusé de
  réception.
  >luis> du system ?

E6. 
  Ajout d'un onglet « Commentaire libre » permettant de saisir un
  texte long.  Pas de stockage en base. 
  >luis> la bonne façon serait de créer la notion
  stockage/pas_stockage 

E7. 
  Récupérer les informations de l'onglet « Annexe » saisies l'année
  précédente 

A1 
  bug #166 Recherche par ville des BM : le système de troncature est
  imparfait 
  
A2.
  Il n'y a pas de contrôle sur la longueur des champs si bien que
  l'export dans la base ADRESSE en particulier peut ne pas
  fonctionner. Par exemple un numéro de téléphone saisi avec des
  blancs , entraîne une erreur au moment de l'export.  Doit-on
  généraliser ce problème en introduisant une notion de longueur de
  champ pour les champs-texte ?
  >luis> Faire simplement fonctionner l'export ?

F2.  
  Gérer la notion de champ obligatoire/non obligatoire en ajoutant cette
  caractéristique dans la description des champs. 
  >luis> donner la liste des champs obligatoire/non obligatoir

E9. 
  Calage à droite des rubriques numériques ( ? ?  ?) à droitre les num
  right et à gauche les num left. automatiquement caler
  >luis> aujourd'hui c'est fait à la main, que sont les num_right ?


lot3 Done
=========

F3.
  Possibilité de saisir un champ à partir d'une liste déroulante,
  permettant de simplifier la saisie sur l'onglet EPCI.  
  Done -> xxx

E4.
  Quand on clique sur un contrôle (ou éventuellement sur sa tête de chapitre),
  l'utilisateur doit être renvoyé automatiquement sur le bon onglet.
  Done -> xxx

BUG lot2 Done
===============

166  onglet G-Ac tivités Remplacer TOTAL USAGERS INSCRITS et/ou
  EMPRUNTEURS (G20 + G25) par TOTAL USAGERS INSCRITS et/ou EMPRUNTEURS
  (G20 + G21 + G25)
  Done -> patch-84
165: Onglet Identité Remplacer "Rapport annuel 2005 des bibliothèques
  territoriales" par "Rapport annuel 2005 des bibliothèques
  municipales"
  Done -> patch-85
164 Fonctionnel   bloquant Pb pour l'envoi du formulaire
  Done -> culture--luis--0.5--patch-74
163 Paramétrage majeur BM : Manque un contrôle sur les x champs décimaux 
  A rajouter dans gen_controles.py :
  C43X=C11X+C12X+C13X+C14X+C15X+C16X+C17X+C21X+C22X+C23X+C31X+C32X+C33X+C34X
  A modifier G26Y=G2OY+G21Y+G25Y,  G26Z+G26Z+G21Z+G25Z
  Done -> patch-79,  patch-84
162 Fonctionnel   majeur Contrôles sur les totaux incorrects
  Done -> patch-78 
161 Paramétrage   majeur Liste des totaux à calculer automatiquement
  161: Liste des totaux à calculer automatiquement
  (ex: B11Z= B11X+B11Y)
  Informations complémentaires   Vérification du schemaBM.PY :
  nouvelle version disponible au DSI
  Manquent B11Z,B12Z,B13Z 
  Done -> patch-87
  G23Y à G25Y
  Done -> patch-88
  En erreur : E11Z à E46Z, E41Z à E74Z : du E11 partout ...
  Done -> patch-89
  G25W=G22W+G23W+G24W (idem pour G25X et G25Y) G26Y=G20Y+G21Y+G25Y (idem G26Z)
  Done -> patch-90
160 La fenêtre de conenxion est en anglais
  160: La fenêtre de conenxion est en anglais
  Description   Mettre "Nom" à la place de "UserName" et "MOt de
  passe" à la place de "Password"
  Done -> patch-91
159 Sur l'onglet EPCI , le bouton "Enregistrer" n'est pas à la norme
  Done -> patch-92
158 2 boutons "Imprimer" sur l'onglet Identité
  Done -> patch-93
157: Sauts de page manquants
  Impression du formulaire : Manquent les sauts de page après l'onglet
  EPCI et après l'onglet C-Personnel
  Done -> patch-94
156 Calage à droitre des champs numériques des onglets E et I
  Description   Dans les onglets E- et I- , les champs numériques ne
  sont pas calés à droite
  Done -> patch-95
155: Onglet Identité : Bouton "Veuillez consulter l'aide" ne renvoie
  pas sur l'aide générale Description   Sur l'onglet Identité , le
  bouton "Veuillez consulter l'aide" doit faire un lien sur l'aide
  générale (onglet Aide). Il ne devrait apparitre que si le formulaire
  est "Vide" et ne doit pas remplacer le ? de l'onglet identité
  Done -> patch-96 BM
  Done -> patch-97 BDP
153
  BM : les nouveaux users n'ont pas été implantés
  Impossible de se connecter en tant que USER : BMxxx, BDPyy
  Done -> patch-98 

DONE Issues culture--luis--0.5
=================================

E6. Mise à jour des modifications du ministère sur le code (application
  des patch 1 à 4) 
  Done -> patch-1 à patch-44

E5. Rajouter automatiquement l'année du rapport sur les onglets «
  Personnel », « Collections » de telle sorte qu'apparaisse dans le
  titre « au 31 décembre AAAA », où AAAA et l'année du rapport
  Done -> patch-46

E2. Le bouton « Envoyer » dans l'onglet « Contrôle de saisie » devra
  toujours être visible. Il devra être inhibé tant que tous les
  contrôles ne sont pas à OUI 
  Done -> patch-47

E3. Lors de la première connexion en tant qu'utilisateur, c'est à dire
  quand le formulaire est « Vide », l'utilisateur doit être incité à
  consulter l'aide : popup du fichier d'aide ou message incitatif 
  Done -> patch-48, patch-49

E1. L'onglet EPCI doit être complètement révisé et être pré-rempli
  informations   contenues dans une table MySQL.(cf Annexe 1) 
  Done -> patch-52, patch-53


F1. Ajouter un type décimal dans la nature du champ, pour permettre en 
  particulier des contrôles de totaux sur les champs C11X à C43X 
  Done -> patch-57

F4. Calcul des totaux : la règle serait la suivante : Quand tous les
  champs composant le total sont renseignés et tous différents de NC,
  alors le total est calculé automatiquement à l'enregistrement. Si un
  des champs est vide ou un des champ est à NC, alors le total n'est pas
  calculé. La rubrique correspondante reste inchangée. 
  Done -> patch-69 (BM)

F5. Contrôles sur les totaux : rajouter les contraintes suivantes 
  Si un seul des termes de la somme est égal à NC, alors le total doit être
  égal à NC 
  Si plusieurs termes de la somme sont égaux à NC, alors le
  total doit être strictement supérieur à la somme des termes différents
  de NC
  Done -> patch-78 

EG4. Quand on clique sur un contrôle (ou éventuellement sur sa tête 
  de chapitre), l'utilisateur doit être renvoyé automatiquement sur le 
  bon onglet.
  Done -> patch-82 

F7. nouveau login/passwd pour les BM et BDP voir README
  Done -> patch-98 


TODO Issues culture--luis--0.5
=================================

Maintenance SCRIB : 2er lot Évolutions fonctionnelles [6 jours]
All Done


Ergonomie générale [5 jours]
-----------------------------
All Done



Annexe 1
~~~~~~~~~~

L'onglet EPCI devra se présenter comme dans la page FormBM_report11.xml jointe
(Hors CSS) Les rubriques sont toutes préremplies au moyen de la table MySQL
EPCI_UA. 

Le lien entre la table BM et la tables EPCI_UA est faite par le champ code_UA
 
Seule la colonne Z des lignes K4, K5, ... est modifiable.
#luis: pour les lignes K1 K2 éditable ou pas ?

K1 = contenu du champ nom_epci de la table EPCI_UA 
K2 = contenu du champ pop_epci de la table EPCI_UA 
K3 = contenu du champ type_epci de la table EPCI_UA
#luis: pas de K3 dans la table sql ni dans report11.xml seulement dans schemat

Le nombre de communes participantes est variable (actuellement le maximum est
44, potentiellement 128) 
#luis: seulement 14 communes de K17-K31 


K17W = contenu du champ INSEE de la table EPCI_UA 
K17X= contenu du champ NOM_COM de la table EPCI_UA 
K17Y = contenu du champ POPULA de la table EPCI_UA 
K17Z = contenu du champ STATUT de la table EPCI_UA 

La colonne Z est modifiable au moyen d'une liste déroulante dont les valeurs
possibles sont: 

Commune dans un EPCI sans compétence bibliothèque
Commune dans EPCI - bibliothèque non transférée
Commune dans EPCI avec compétence biblio
Ville-centre  d'un EPCI avec compétence biblio
Commune dans syndicat intercommunal
Autre

Problèmes
~~~~~~~~~~~

#luis: type (IO.Boolean, True) pour la colonne Y ??
#luis: K3 à K16 dans schematBM ?
#luis: K3 de type checkbox ?


Bugs culture--main--0.2
========================
#01 sort by Etat and Dep failed http://culture.petitbar/BDP2004/;browse_list

see http://in-girum.net:/manta/

Fixed culture--main--0.2
=========================

see http://in-girum.net:/manta/

Bugs culture--main--0.1
========================

Fixed culture--main--0.1
=====

#01 Traduction form http://___/users/;browse_thumbnails?content_batchstart=20
#04 remove Galerie d'images for users /users/;browse_thumbnails Fixed in ikaaro
#02 Login/logout/join in template.xhtml
#03 CSS in all browse_list http://doubs.culture.petitbar/users/;browse_list
#05 one user see all users. He should see only ... himself [dav] ___/users
#06 Breadcrumb : user21_2003 should not be able to go to the root
#07 Mysql connexion with first form and export 
#08 when user21_2003 change this passwd he can't come back to his form 
#09 browse_list : clean up everywhere "Langue" and remove/translate state
#10 add a "try execpt for no sql and no SMTP server"
#11 as admin we need to be able to do the pending -> private transition 
#13 traduction : http://culturebiblio.itaapy.com/users/;browse_list
#14 add metadata tabs for users [dav]
#15 popup help
#16 total dans le  gérer le cas de NC, laiser le champs editable 
#17 si form Terminé et que l'user se log voir le form sans les input submit 
#18 virer la boite d'info pour un bandau gauche super petit
#19 as admin /users/user21_2003/;home give an error
#20 différencier les champs dont le type est faux des champs non renseigné.
#21 translation of workflow states private, pending, public -> terminé, in list
#22 "mon_profil" point vers un mauvais lien
#23 empecher "terminier"  si "liste des controle"=non Termier
#24 sur potlatch si on clique sur terminer sa mouline "except Mail error"
#25 "Liste des alertes" Surface moyenne d'un bâtiment : (B11Z/B12Z) marche pas
#26 http://___/2003/;browse_list trie par date donne une erreur 
#27 8bits caractere brack the report0 
#28 improving #20 by adding wrong values in messages
#29 fix browse_list batch
#31 admin form 09 contrôles à NON. On peut exporter dans la base MySQL 
#33 traduction en admin /users/;browse_list et users/admin/;edit_password_form 
#30 deux enregistrement en moins d'un seconde font un erreur (versioned file)
#32 form_list batché les caractères "<" sont remplacés par "&lt;" 

